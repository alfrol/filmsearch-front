<h2>Register</h2>

<form [formGroup]="registerForm" novalidate (ngSubmit)="onSubmit()" class="example-form">

  <mat-form-field class="example-full-width">
    <label for="username">Username</label>
    <input matInput type="text" id="username" formControlName="username"/>
    <mat-error *ngIf="hasError('username', 'required')">Username is required</mat-error>
    <mat-error *ngIf="hasError('username', 'incorrect')">{{ this.registerForm.controls.username.errors.incorrect }}</mat-error>
  </mat-form-field>

  <mat-form-field class="example-full-width">
    <label for="password">Password</label>
    <input matInput type="password" id="password" formControlName="password"/>
    <mat-error *ngIf="hasError('password', 'required')">Password is required</mat-error>
    <mat-error *ngIf="hasError('password', 'minlength')">Password must be at least 6 characters long</mat-error>
  </mat-form-field>

  <mat-form-field class="example-full-width">
    <label for="firstName">First name</label>
    <input matInput type="text" id="firstName" formControlName="firstName"/>
    <mat-error *ngIf="hasError('firstName', 'required')">First name is required</mat-error>
  </mat-form-field>

  <mat-form-field class="example-full-width">
    <label for="lastName">Last name</label>
    <input matInput type="text" id="lastName" formControlName="lastName"/>
    <mat-error *ngIf="hasError('lastName', 'required')">Last name is required</mat-error>
  </mat-form-field>

  <mat-form-field class="example-full-width">
    <label for="email">Email</label>
    <input matInput type="text" id="email" formControlName="email"/>
    <mat-error *ngIf="hasError('email', 'required')">Email is required</mat-error>
    <mat-error *ngIf="hasError('email', 'email')">Email format is incorrect</mat-error>
    <mat-error *ngIf="hasError('email', 'incorrect')">{{ this.registerForm.controls.email.errors.incorrect }}</mat-error>
  </mat-form-field>

  <mat-form-field class="example-full-width">
    <label for="age">Age</label>
    <input matInput type="text" id="age" formControlName="age"/>
    <mat-error *ngIf="hasError('age', 'required')">Age is required</mat-error>
    <mat-error *ngIf="hasError('age', 'min')">Minimum value for age is 1</mat-error>
    <mat-error *ngIf="hasError('age', 'max')">Maximum value for age is 120</mat-error>
  </mat-form-field>

  <div class="register-form-buttons">
    <a routerLink="/login" mat-raised-button>Login</a>
    <button [disabled]="loading" mat-raised-button color="primary">Sign up</button>
  </div>
</form>
